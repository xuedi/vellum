<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vellum Documentation</title>
    <style>
/*
 * Vellum - Slate & Teal Theme
 * Color scheme: Slate gray with teal accent
 */

:root {
    --bg-color: #1e293b;
    --card-bg: #334155;
    --text-color: #f1f5f9;
    --text-muted: #94a3b8;
    --accent: #0f172a;
    --highlight: #2dd4bf;
    --border-color: #475569;
    --success: #14b8a6;

    /* Paper-style content area */
    --content-bg: #ffffff;
    --content-text: #1a1a1a;
    --content-text-muted: #666666;
    --content-border: #e0e0e0;
    --content-accent: #f5f5f5;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
    line-height: 1.6;
    background-color: var(--bg-color);
    color: var(--text-color);
    padding: 20px;
    max-width: 1200px;
    margin: 0 auto;
}

/* Header with logo */
.header {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid var(--highlight);
}

.header img {
    height: 50px;
    width: auto;
}

.header h1 {
    font-size: 1.5em;
    font-weight: 600;
    color: var(--text-color);
    margin: 0;
}

/* Controls */
.controls {
    position: sticky;
    top: 0;
    background: var(--bg-color);
    padding: 15px 0;
    margin-bottom: 20px;
    z-index: 100;
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
}

#nav-buttons {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    flex-grow: 1;
    align-items: center;
}

.controls button {
    padding: 8px 16px;
    background: var(--accent);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.2s;
}

.controls button:hover {
    background: var(--highlight);
    color: black;
}

.controls button.active {
    background: var(--highlight);
    color: black;
}

/* Dropdown - right aligned */
#dropdown {
    margin-left: auto;
    padding: 8px 16px;
    background: var(--accent);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.2s;
    min-width: 200px;
}

#dropdown:hover,
#dropdown:focus {
    background: var(--highlight);
    color: black;
    outline: none;
    border-color: var(--highlight);
}

#dropdown option {
    background: var(--card-bg);
    color: var(--text-color);
    padding: 8px;
}

#dropdown option:disabled {
    color: var(--highlight);
    font-weight: 500;
}

/* Collapsible sections */
.section {
    margin-bottom: 10px;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    overflow: hidden;
    background: var(--card-bg);
}

.section-header {
    display: flex;
    align-items: center;
    padding: 12px 15px;
    cursor: pointer;
    user-select: none;
    transition: background 0.2s;
    background: #4A4B6A;
}

.section-header:hover {
    background: #3a3b5a;
}

.section-header h1,
.section-header h2,
.section-header h3,
.section-header h4,
.section-header h5,
.section-header h6 {
    margin: 0;
    flex-grow: 1;
}

.section-header h1 { font-size: 1.8em; color: #ffffff; font-weight: 600; }
.section-header h2 { font-size: 1.5em; color: #ffffff; font-weight: 600; }
.section-header h3 { font-size: 1.25em; color: var(--text-color); font-weight: 500; }
.section-header h4 { font-size: 1.1em; color: var(--text-muted); font-weight: 500; }
.section-header h5,
.section-header h6 { font-size: 1em; color: var(--text-muted); font-weight: 400; }

.toggle-icon {
    font-size: 12px;
    margin-right: 10px;
    transition: transform 0.2s;
    color: var(--text-muted);
}

.section.collapsed .toggle-icon {
    transform: rotate(-90deg);
}

.section-content {
    padding: 15px 20px 20px 35px;
    display: block;
    background: var(--content-bg);
    color: var(--content-text);
    border-radius: 0 0 8px 8px;
}

.section.collapsed > .section-content {
    display: none;
}

/* Subsection panels for Related Documents */
.subsection-panel {
    display: none;
}

.subsection-panel.active {
    display: block;
}

/* Nested headers inside section content */
.section-content h3 {
    font-size: 1.25em;
    color: var(--content-text);
    font-weight: 600;
    margin: 20px 0 10px 0;
    padding-bottom: 5px;
    border-bottom: 1px solid var(--content-border);
}

.section-content h4 {
    font-size: 1.1em;
    color: #333333;
    font-weight: 600;
    margin: 15px 0 8px 0;
}

.section-content h5,
.section-content h6 {
    font-size: 1em;
    color: var(--content-text-muted);
    font-weight: 500;
    margin: 10px 0 5px 0;
}

/* Content styling */
.section-content p {
    margin: 10px 0;
}

.section-content ul,
.section-content ol {
    margin: 10px 0;
    padding-left: 25px;
}

.section-content li {
    margin: 5px 0;
}

.section-content strong {
    color: var(--content-text);
    font-weight: 600;
}

.section-content em {
    color: var(--content-text-muted);
    font-style: italic;
}

.section-content code {
    background: var(--content-accent);
    border-radius: 3px;
    font-family: 'Consolas', 'Monaco', monospace;
    color: #333333;
}

.section-content pre {
    background: #2d2d2d;
    color: #f8f8f2;
    padding: 15px;
    border-radius: 5px;
    overflow-x: auto;
}

.section-content pre code {
    background: transparent;
    color: inherit;
}

.section-content blockquote {
    border-left: 3px solid var(--highlight);
    padding-left: 15px;
    margin: 10px 0;
    color: var(--content-text-muted);
    background: var(--content-accent);
    padding: 10px 15px;
    border-radius: 0 5px 5px 0;
}

.section-content a {
    color: #0066cc;
    text-decoration: none;
}

.section-content a:hover {
    text-decoration: underline;
    color: #004499;
}

.section-content hr {
    border: none;
    border-top: 1px solid var(--content-border);
    margin: 20px 0;
}

.section-content table {
    width: auto;
    border-collapse: collapse;
    margin: 15px 0;
    font-size: 0.9em;
}

.section-content th,
.section-content td {
    border: 1px solid var(--content-border);
    padding: 10px;
    text-align: left;
}

.section-content th {
    background: var(--content-accent);
    font-weight: 600;
    color: var(--content-text);
}

/* Achievement markers */
.achievement-marker {
    background: var(--highlight);
    color: white;
    padding: 2px 10px;
    border-radius: 12px;
    font-size: 0.8em;
    margin-left: 8px;
    font-weight: 500;
}

/* Colored tags */
.color-tag {
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 0.85em;
    font-weight: 500;
    white-space: nowrap;
}

.color-tag-green {
    background: #22c55e;
    color: white;
}

.color-tag-grey {
    background: #6b7280;
    color: white;
}

.color-tag-red {
    background: #ef4444;
    color: white;
}

.color-tag-blue {
    background: #3b82f6;
    color: white;
}

.color-tag-yellow {
    background: #eab308;
    color: black;
}

.color-tag-orange {
    background: #f97316;
    color: white;
}

.color-tag-purple {
    background: #a855f7;
    color: white;
}

/* Skill Matrix table */
.skill-matrix {
    width: 100%;
    border-collapse: collapse;
    margin: 15px 0;
    font-size: 0.9em;
}

.skill-matrix th,
.skill-matrix td {
    border: 1px solid var(--content-border);
    padding: 8px 12px;
    text-align: left;
}

.skill-matrix th {
    background: var(--content-accent);
    font-weight: 600;
    color: var(--content-text);
}

.skill-matrix .category-row td {
    background: var(--content-accent);
    color: var(--content-text);
    font-weight: 600;
    text-align: center;
    padding: 10px;
}

/* WIP marker in skill matrix */
.wip-marker {
    background: var(--highlight);
    color: white;
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 0.75em;
    font-weight: 500;
    margin-right: 5px;
}

.skill-matrix td:nth-child(2) {
    text-align: center;
    width: 60px;
}

/* Skill level colors - pastel gradient from red to green */
.level-0, .level-1, .level-2, .level-3 {
    background: #f8d7da; /* pastel red */
}
.level-4, .level-5 {
    background: #fff3cd; /* pastel yellow */
}
.level-6 {
    background: #ffeeba; /* pastel orange-yellow */
}
.level-7 {
    background: #d4edda; /* pastel light green */
}
.level-8 {
    background: #c3e6cb; /* pastel green */
}
.level-9, .level-10 {
    background: #b1dfbb; /* pastel darker green */
}

/* Pre-rendered panels */
.panel {
    margin-bottom: 10px;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    overflow: hidden;
    background: var(--card-bg);
}

.panel > h2 {
    display: flex;
    align-items: center;
    padding: 12px 15px;
    margin: 0;
    background: #4A4B6A;
    font-size: 1.5em;
    color: #ffffff;
    font-weight: 600;
}

.panel-content {
    padding: 15px 20px 20px 35px;
    background: var(--content-bg);
    color: var(--content-text);
    border-radius: 0 0 8px 8px;
}

.panel-content h3 {
    font-size: 1.25em;
    color: var(--content-text);
    font-weight: 600;
    margin-top: 1.5em;
    margin-bottom: 0.5em;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--content-border);
}

.panel-content h3:first-child {
    margin-top: 0;
}

.panel-content h4 {
    font-size: 1.1em;
    color: #333333;
    font-weight: 600;
    margin-top: 1.2em;
    margin-bottom: 0.4em;
}

.panel-content h5,
.panel-content h6 {
    font-size: 1em;
    color: var(--content-text-muted);
    font-weight: 500;
    margin: 10px 0 5px 0;
}

.panel-content p {
    margin: 10px 0;
}

.panel-content ul,
.panel-content ol {
    margin: 10px 0;
    padding-left: 25px;
}

.panel-content li {
    margin: 5px 0;
}

.panel-content strong {
    color: var(--content-text);
    font-weight: 600;
}

.panel-content em {
    color: var(--content-text-muted);
    font-style: italic;
}

.panel-content code {
    background: var(--content-accent);
    border-radius: 3px;
    font-family: 'Consolas', 'Monaco', monospace;
    color: #333333;
}

.panel-content pre {
    background: #2d2d2d;
    color: #f8f8f2;
    padding: 15px;
    border-radius: 5px;
    overflow-x: auto;
}

.panel-content pre code {
    background: transparent;
    color: inherit;
}

.panel-content blockquote {
    border-left: 3px solid var(--highlight);
    padding-left: 15px;
    margin: 10px 0;
    color: var(--content-text-muted);
    background: var(--content-accent);
    padding: 10px 15px;
    border-radius: 0 5px 5px 0;
}

.panel-content a {
    color: #0066cc;
    text-decoration: none;
}

.panel-content a:hover {
    text-decoration: underline;
    color: #004499;
}

.panel-content hr {
    border: none;
    border-top: 1px solid var(--content-border);
    margin: 20px 0;
}

.panel-content table {
    width: auto;
    border-collapse: collapse;
    margin: 15px 0;
    font-size: 0.9em;
}

.panel-content th,
.panel-content td {
    border: 1px solid var(--content-border);
    padding: 10px;
    text-align: left;
}

.panel-content th {
    background: var(--content-accent);
    font-weight: 600;
    color: var(--content-text);
}

.hidden {
    display: none !important;
}

    </style>
</head>
<body>
    <div class="header">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAAUElEQVR42u3PQQkAAAgEsCugyeyfxwi+hcEKLNXzWgQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQErsACWh1wW5pIvbgAAAAASUVORK5CYII=" alt="Logo">
        <h1>Vellum Documentation</h1>
    </div>

    <div class="controls">
        <div id="nav-buttons">
        <button data-panel="overview">Overview</button>
        <button data-panel="why-vellum">Why Vellum?</button>
        <button data-panel="how-to-use">How to use</button>
        <button data-panel="features">Features</button>
        <button data-panel="getting-started">Getting Started</button>
        <select id="dropdown">
            <option disabled selected>Technical</option>
            <option data-panel="architecture">Architecture</option>
            <option data-panel="configuration-reference">Configuration Reference</option>
            <option data-panel="supported-image-formats">Supported Image Formats</option>
            <option data-panel="configuration-reference-1">Configuration Reference</option>
            <option data-panel="supported-image-formats-1">Supported Image Formats</option>
            <option data-panel="include-syntax">Include Syntax</option>
            <option data-panel="template-variables">Template Variables</option>
            <option data-panel="error-handling">Error Handling</option>
        </select>
        </div>
    </div>

    <div id="content">
<div class="panel" id="panel-overview">
    <h2>Overview</h2>
    <div class="panel-content">
        <p>Vellum is a static site generator that transforms Markdown files into self-contained HTML documents. It takes your Markdown content, along with any images or assets, and produces a single HTML file with everything embedded inline. No external dependencies, no CDN links, no separate CSS files.</p>
<p>The generated HTML works completely offline. You can email it, put it on a USB stick, or host it anywhere. Recipients can open it in any browser without needing special software or internet access.</p>
<p>Vellum is designed for people who love writing in Markdown but need to share their work with others who prefer polished, readable documents. Whether you are creating portfolios, documentation, or reports, Vellum handles the conversion while preserving your content structure and styling.</p>

    </div>
</div>
<div class="panel hidden" id="panel-why-vellum">
    <h2>Why Vellum?</h2>
    <div class="panel-content">
        <p>Some people like to document stuff in Markdown files and have to share with others that are not very keen on reading Markdown, this project aims to solve that problem.</p>

    </div>
</div>
<div class="panel hidden" id="panel-how-to-use">
    <h2>How to use</h2>
    <div class="panel-content">
        <h3>One Markdown File with Subfiles</h3>
<p>Vellum works with a single main Markdown file as your entry point. This file can include content from other Markdown files using the include syntax. This lets you organize large documents into manageable pieces while producing a single output.</p>
<p>To include another file, use: <code>Include: [label](filename.md)</code></p>
<p>The included content gets merged into your main document during generation.</p>
<h3>Level 2 Headings Become Navigation Buttons</h3>
<p>Every level 2 heading (<code>## Section Name</code>) in your document automatically becomes a navigation button. Vellum extracts these headings and creates a button bar at the top of the generated HTML. Clicking a button scrolls to that section.</p>
<p>This gives your readers quick access to any part of the document without manual table of contents maintenance.</p>
<h3>Dropdown Menus for Archive Sections</h3>
<p>If you want certain sections grouped under a dropdown menu instead of individual buttons, use a special heading name in your config. Setting a level 2 heading name like "Archive" or "More" in the dropdown configuration causes Vellum to collect those sections into a dropdown menu.</p>
<p>This keeps your navigation clean when you have many sections or want to de-emphasize older content while still keeping it accessible.</p>

    </div>
</div>
<div class="panel hidden" id="panel-features">
    <h2>Features</h2>
    <div class="panel-content">
        <p>Vellum <span class="color-tag color-tag-blue">v0.1.0</span> includes the following features:</p>
<h3>Self-Contained Output</h3>
<p>Everything gets embedded into a single HTML file. CSS styles, JavaScript for navigation, your logo as base64, and all content live together. No broken links, no missing assets, no dependency on external servers.</p>
<h3>Automatic Navigation</h3>
<p>Level 2 headings automatically become clickable navigation buttons. Readers can jump to any section instantly. No manual anchor management required.</p>
<h3>File Includes</h3>
<p>Split large documents into smaller, manageable pieces. Use the include syntax to pull content from other Markdown files. Vellum merges everything during generation.</p>
<h3>Offline Ready</h3>
<p>Generated documents work without internet access. Share via email, USB drives, or local file systems. Perfect for environments with restricted connectivity.</p>
<h3>Template Variables</h3>
<p>Use built-in variables like <code>{{CURRENT_YEAR}}</code> or <code>{{CURRENT_DATE}}</code> in your content. Vellum substitutes them during generation, keeping your documents fresh.</p>
<h3>Colored Tags</h3>
<p>Define regex patterns in your config to automatically highlight text as colored tags. Perfect for status indicators, version numbers, or any recurring patterns you want to stand out.</p>
<p>Available colors: green, grey, red, blue, yellow, orange, purple.</p>
<h3>Dropdown Navigation</h3>
<p>Group related sections under a dropdown menu to keep the navigation bar clean. Ideal for archiving older content or organizing technical details.</p>

    </div>
</div>
<div class="panel hidden" id="panel-getting-started">
    <h2>Getting Started</h2>
    <div class="panel-content">
        <p>This guide covers Vellum <span class="color-tag color-tag-blue">v0.1.0</span> installation and setup.</p>
<h3>Installation</h3>
<p>Clone the repository and build with Cargo:</p>
<pre><code class="language-bash">git clone git@github.com:xuedi/vallum.git
cd vallum
cargo build --release
</code></pre>
<p>Run <code>just install</code> to set up the global configuration directory at <code>~/.config/vellum/</code>.</p>
<h3>Quick Start</h3>
<ol>
<li>Create your main Markdown file with level 2 headings for each section</li>
<li>Configure <code>config.toml</code> with your input and output paths</li>
<li>Run <code>vellum</code> to generate your HTML</li>
</ol>
<h3>Project Structure</h3>
<p>A typical Vellum project looks like this:</p>
<pre><code>project/
  config/
    config.toml
    logo.png
  data/
    index.md
    section1.md
    section2.md
  index.html (generated)
</code></pre>
<h3>Configuration Location</h3>
<p>Vellum searches for configuration in this order:</p>
<ol>
<li><code>~/.config/vellum/config.toml</code> (global)</li>
<li><code>./config/config.toml</code> (current directory)</li>
<li>Parent directories up to 4 levels</li>
</ol>
<p>This allows both global setups and project-specific configurations.</p>

    </div>
</div>
<div class="panel hidden" id="panel-architecture">
    <h2>Architecture</h2>
    <div class="panel-content">
        <h3>Overview</h3>
<p>Vellum is a Rust-based static site generator that transforms extended Markdown files into self-contained HTML documents. The output is a single HTML file with all assets (CSS, JavaScript, images) embedded inline, making it fully offline-capable.</p>
<h3>Project Structure</h3>
<pre><code>vellum/
├── src/
│   ├── main.rs              # CLI entry point, argument parsing
│   ├── lib.rs               # Public API, generation pipeline orchestration
│   ├── parser/
│   │   ├── mod.rs           # Parser module exports
│   │   ├── document.rs      # Document tree parsing, panel extraction
│   │   ├── markdown.rs      # Markdown processing, includes, variables
│   │   ├── sections.rs      # Section extraction, slugification
│   │   └── skill_matrix.rs  # Skill matrix table transformation
│   ├── renderer/
│   │   ├── mod.rs           # Renderer module exports
│   │   └── html.rs          # HTML rendering, template substitution
│   └── assets/
│       ├── mod.rs           # Asset loading from config directory
│       └── embedder.rs      # Image base64 encoding
├── config/
│   └── assets/
│       ├── template.html    # HTML template with placeholders
│       ├── style.css        # Stylesheet
│       └── script.js        # Minimal panel show/hide logic
├── tests/
│   └── integration.rs       # End-to-end tests
└── .claude/
    ├── CLAUDE.md            # Project guidelines
    └── architecture.md      # This file
</code></pre>
<h3>Processing Pipeline</h3>
<pre><code>┌─────────────────────────────────────────────────────────────────┐
│                        INPUT                                    │
│  Markdown file + Logo + Config (title, dropdown section)        │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│  1. PROCESS INCLUDES                                            │
│     - Resolve `Include: (path.md)` directives                   │
│     - Recursively embed referenced markdown files               │
│     - Adjust heading levels for included content                │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│  2. SUBSTITUTE VARIABLES                                        │
│     - Replace 2026-01-13, 2026, etc.            │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│  3. TRANSFORM MARKERS                                           │
│     - Convert `&lt;span class="achievement-marker"&gt;tag` to styled achievement markers            │&lt;/span&gt;
│     - Apply colored_tags regex patterns from config             │
│     - Transform skill matrix tables with level coloring         │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│  4. PARSE DOCUMENT STRUCTURE                                    │
│     - Extract H2 sections → nav buttons                         │
│     - Extract H3 under dropdown section → dropdown items        │
│     - Normalize heading levels per panel (H4→H3 for dropdown)   │
│     - Build ContentPanel list with markdown content             │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│  5. RENDER HTML                                                 │
│     - Convert each panel's markdown to HTML                     │
│     - Generate navigation (buttons + dropdown)                  │
│     - Embed logo as base64 data URI                             │
│     - Substitute into HTML template                             │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                        OUTPUT                                   │
│  Single self-contained HTML file                                │
└─────────────────────────────────────────────────────────────────┘
</code></pre>
<h3>Key Data Structures</h3>
<h4>DocumentStructure (parser/document.rs)</h4>
<pre><code class="language-rust">struct DocumentStructure {
    nav_buttons: Vec&lt;NavItem&gt;,      // H2 sections → top nav buttons
    dropdown_title: Option&lt;String&gt;, // Configured dropdown section name
    dropdown_items: Vec&lt;NavItem&gt;,   // H3 under dropdown → dropdown options
    panels: Vec&lt;ContentPanel&gt;,      // All pre-rendered content panels
}

struct ContentPanel {
    id: String,              // Unique panel ID (slugified title)
    title: String,           // Panel heading
    markdown_content: String // Normalized markdown (heading levels adjusted)
}
</code></pre>
<h4>Heading Level Normalization</h4>
<p>Content panels are rendered independently of their original document tree position:</p>
<ul>
<li><strong>Regular sections (H2)</strong>: Content starts at H3 level, rendered as-is</li>
<li><strong>Dropdown items (H3)</strong>: Content starts at H4 level, shifted up (H4→H3, H5→H4)</li>
</ul>
<p>This normalization happens in the parser, not the renderer. The renderer receives panels with already-normalized content and doesn't need to know the original document structure.</p>
<h3>Extended Markdown Syntax</h3>
<h4>Includes</h4>
<pre><code class="language-markdown">**Error: Could not include 'path/to/file.md': No such file or directory (os error 2)**
</code></pre>
<h4>Variables</h4>
<pre><code class="language-markdown">2026-01-13     → 2026-01-13
2026     → 2026
January 2026 → 2026-01-13 14:30
</code></pre>
<h4>Achievement Markers</h4>
<pre><code class="language-markdown">- Completed feature &lt;span class="achievement-marker"&gt;milestone&lt;/span&gt;
- Fixed bug &lt;span class="achievement-marker"&gt;fix&lt;/span&gt;
</code></pre>
<h4>Colored Tags</h4>
<p>Config-defined regex patterns are replaced with styled tags:</p>
<pre><code class="language-toml">[colored_tags]
"KW\\d{2}-OK" = "green"
"KW\\d{2}-FAIL" = "red"
</code></pre>
<p>Text matching these patterns becomes <code>&lt;span class="color-tag color-tag-green"&gt;KW02-OK&lt;/span&gt;</code>.</p>
<h4>Skill Matrix</h4>
<p>Tables under headings containing "skill" or "matrix" are auto-styled with level-based coloring (0-10 scale, red→yellow→green gradient).</p>
<h3>Design Principles</h3>
<ol>
<li><strong>Self-contained output</strong>: No external dependencies, works offline</li>
<li><strong>Pre-render everything</strong>: JavaScript only handles show/hide, no DOM manipulation</li>
<li><strong>Separation of concerns</strong>: Parser normalizes data, renderer is structure-agnostic</li>
<li><strong>Single file deployment</strong>: One HTML file contains everything</li>
</ol>

    </div>
</div>
<div class="panel hidden" id="panel-configuration-reference">
    <h2>Configuration Reference</h2>
    <div class="panel-content">
        <p>The <code>config.toml</code> file supports these sections (as of <span class="color-tag color-tag-blue">v0.1.0</span>):</p>
<p><strong>[document]</strong></p>
<ul>
<li><code>title</code> - Browser tab title and header text</li>
<li><code>dropdown</code> - Heading name to group under dropdown menu (empty to disable)</li>
</ul>
<p><strong>[paths]</strong></p>
<ul>
<li><code>markdown</code> - Path to main input file</li>
<li><code>logo</code> - Path to logo image (PNG, JPG, SVG, WebP, GIF supported)</li>
<li><code>output</code> - Path for generated HTML file</li>
<li><code>skill_matrix</code> - Optional path to skill matrix Markdown file</li>
</ul>
<p><strong>[colored_tags]</strong></p>
<ul>
<li>Key-value pairs where keys are regex patterns and values are color names</li>
<li>Available colors: green, grey, red, blue, yellow, orange, purple</li>
<li>Example: <code>"v\\d+\\.\\d+\\.\\d+" = "blue"</code> highlights version numbers</li>
</ul>

    </div>
</div>
<div class="panel hidden" id="panel-supported-image-formats">
    <h2>Supported Image Formats</h2>
    <div class="panel-content">
        <p>Vellum embeds images as base64 data URIs. Supported formats:</p>
<h4>Skill Matrix</h4>
<p>Tables under headings containing "skill" or "matrix" are auto-styled with level-based coloring (0-10 scale, red→yellow→green gradient).</p>
<h3>Design Principles</h3>
<ol>
<li><strong>Self-contained output</strong>: No external dependencies, works offline</li>
<li><strong>Pre-render everything</strong>: JavaScript only handles show/hide, no DOM manipulation</li>
<li><strong>Separation of concerns</strong>: Parser normalizes data, renderer is structure-agnostic</li>
<li><strong>Single file deployment</strong>: One HTML file contains everything</li>
</ol>

    </div>
</div>
<div class="panel hidden" id="panel-configuration-reference-1">
    <h2>Configuration Reference</h2>
    <div class="panel-content">
        <p>The <code>config.toml</code> file supports these sections (as of <span class="color-tag color-tag-blue">v0.1.0</span>):</p>
<p><strong>[document]</strong></p>
<ul>
<li><code>title</code> - Browser tab title and header text</li>
<li><code>dropdown</code> - Heading name to group under dropdown menu (empty to disable)</li>
</ul>
<p><strong>[paths]</strong></p>
<ul>
<li><code>markdown</code> - Path to main input file</li>
<li><code>logo</code> - Path to logo image (PNG, JPG, SVG, WebP, GIF supported)</li>
<li><code>output</code> - Path for generated HTML file</li>
<li><code>skill_matrix</code> - Optional path to skill matrix Markdown file</li>
</ul>
<p><strong>[colored_tags]</strong></p>
<ul>
<li>Key-value pairs where keys are regex patterns and values are color names</li>
<li>Available colors: green, grey, red, blue, yellow, orange, purple</li>
<li>Example: <code>"v\\d+\\.\\d+\\.\\d+" = "blue"</code> highlights version numbers</li>
</ul>

    </div>
</div>
<div class="panel hidden" id="panel-supported-image-formats-1">
    <h2>Supported Image Formats</h2>
    <div class="panel-content">
        <p>Vellum embeds images as base64 data URIs. Supported formats:</p>
<table><thead><tr><th>Format</th><th>MIME Type</th></tr></thead><tbody>
<tr><td>PNG</td><td>image/png</td></tr>
<tr><td>JPEG</td><td>image/jpeg</td></tr>
<tr><td>GIF</td><td>image/gif</td></tr>
<tr><td>WebP</td><td>image/webp</td></tr>
<tr><td>SVG</td><td>image/svg+xml</td></tr>
</tbody></table>

    </div>
</div>
<div class="panel hidden" id="panel-include-syntax">
    <h2>Include Syntax</h2>
    <div class="panel-content">
        <p>To include content from another file:</p>
<pre><code>**Error: Could not include 'filename.md': No such file or directory (os error 2)**
</code></pre>
<p>The label is for documentation purposes. The file path is relative to the main Markdown file. Only <code>.md</code> files can be included. Files starting with underscore are treated as private and skipped.</p>

    </div>
</div>
<div class="panel hidden" id="panel-template-variables">
    <h2>Template Variables</h2>
    <div class="panel-content">
        <p>Available variables for substitution:</p>
<table><thead><tr><th>Variable</th><th>Output</th></tr></thead><tbody>
<tr><td><code>{{CURRENT_YEAR}}</code></td><td>Four-digit year (e.g., 2025)</td></tr>
<tr><td><code>{{CURRENT_DATE}}</code></td><td>ISO date (e.g., 2025-01-10)</td></tr>
<tr><td><code>{{CURRENT_DATETIME}}</code></td><td>ISO datetime (e.g., 2025-01-10T14:30:00)</td></tr>
</tbody></table>

    </div>
</div>
<div class="panel hidden" id="panel-error-handling">
    <h2>Error Handling</h2>
    <div class="panel-content">
        <p>Vellum provides specific error types:</p>
<ul>
<li><strong>ConfigReadError</strong> - Cannot read configuration file</li>
<li><strong>ConfigParseError</strong> - Invalid TOML syntax or missing fields</li>
<li><strong>FileReadError</strong> - Cannot read input files</li>
<li><strong>LogoEmbedError</strong> - Problem embedding logo image</li>
<li><strong>OutputWriteError</strong> - Cannot write output file</li>
</ul>

    </div>
</div>

    </div>

    <script>
/**
 * Vellum - Minimal Panel Navigation
 * Simple show/hide logic for pre-rendered panels
 */

document.addEventListener('DOMContentLoaded', function() {
    const buttons = document.querySelectorAll('#nav-buttons button');
    const dropdown = document.getElementById('dropdown');
    const panels = document.querySelectorAll('.panel');

    function showPanel(panelId) {
        // Hide all panels
        panels.forEach(p => p.classList.add('hidden'));

        // Show selected panel
        const panel = document.getElementById('panel-' + panelId);
        if (panel) {
            panel.classList.remove('hidden');
        }

        // Reset button active states
        buttons.forEach(b => b.classList.remove('active'));

        // Scroll to top
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Set up button click handlers
    buttons.forEach(btn => {
        btn.onclick = () => {
            showPanel(btn.dataset.panel);
            btn.classList.add('active');
            if (dropdown) dropdown.selectedIndex = 0;
        };
    });

    // Set up dropdown change handler
    if (dropdown) {
        dropdown.onchange = function() {
            const option = this.options[this.selectedIndex];
            if (option && option.dataset.panel) {
                showPanel(option.dataset.panel);
            }
        };
    }

    // Show first panel on load
    if (buttons.length > 0) {
        buttons[0].click();
    }
});

    </script>
</body>
</html>
